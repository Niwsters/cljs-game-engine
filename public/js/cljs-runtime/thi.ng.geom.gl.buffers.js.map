{"version":3,"sources":["thi/ng/geom/gl/buffers.cljc"],"mappings":"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","names":["cljs.core/PROTOCOL_SENTINEL","this__5340__auto__","k__5341__auto__","this__5342__auto__","k17658","else__5343__auto__","G__17681","cljs.core/Keyword","gl","id","target","cljs.core.get","__extmap","this__5360__auto__","f__5361__auto__","init__5362__auto__","cljs.core.reduce","ret__5363__auto__","p__17688","vec__17689","k__5364__auto__","cljs.core.nth","v__5365__auto__","this__5355__auto__","writer__5356__auto__","opts__5357__auto__","pr-pair__5358__auto__","keyval__5359__auto__","cljs.core/pr-sequential-writer","cljs.core.concat","cljs.core/PersistentVector","G__17657","cljs.core/RecordIter","cljs.core/-iterator","cljs.core/nil-iter","this__5338__auto__","__meta","this__5335__auto__","__hash","this__5344__auto__","cljs.core/count","this__5336__auto__","h__5152__auto__","coll__5337__auto__","cljs.core/hash-unordered-coll","this17659","other17660","cljs.core._EQ_","p__17706","map__17707","cljs.core/--destructure-map","this__5350__auto__","k__5351__auto__","cljs.core/contains?","cljs.core.dissoc","cljs.core/-with-meta","cljs.core.into","cljs.core/not-empty","this__5347__auto__","G__17723","this__5348__auto__","k__5349__auto__","pred__17725","cljs.core/keyword-identical?","expr__17726","cljs.core.assoc","this__5353__auto__","cljs.core/seq","cljs.core/MapEntry","this__5339__auto__","this__5345__auto__","entry__5346__auto__","cljs.core/vector?","cljs.core/-nth","cljs.core/-conj","thi.ng.geom.gl.buffers/Texture2D","this__5386__auto__","cljs.core/List","writer__5387__auto__","cljs.core/-write","G__17664","extmap__5382__auto__","G__17741","cljs.core/record?","thi.ng.geom.gl.buffers/->Texture2D","thi.ng.geom.gl.buffers/map->Texture2D","_","unit","thi.ng.geom.gl.webgl.constants/texture0","width","height","image","pixels","format","type","filter","wrap","flip","premultiply","thi.ng.geom.gl.webgl.constants/unsigned-byte","thi.ng.geom.gl.webgl.constants/rgb","config","vec__17710","min","mag","cljs.core/sequential?","thi.ng.geom.gl.webgl.constants/texture-min-filter","thi.ng.geom.gl.webgl.constants/texture-mag-filter","vec__17713","ws","wt","thi.ng.geom.gl.webgl.constants/texture-wrap-s","thi.ng.geom.gl.webgl.constants/texture-wrap-t","thi.ng.geom.gl.webgl.constants/unpack-flip-y-webgl","thi.ng.geom.gl.webgl.constants/unpack-premultiply-alpha-webgl","and__5041__auto__","thi.ng.geom.gl.buffers/make-texture","opts","tex","thi.ng.geom.gl.webgl.constants/texture-2d","cljs.core.merge","thi.ng.geom.gl.webgl.constants/rgba","var_args","G__17755","thi.ng.geom.gl.buffers/make-canvas-texture","js/Error","canvas","thi.ng.geom.gl.buffers.make_canvas_texture","thi.ng.geom.gl.webgl.constants/linear","thi.ng.geom.gl.webgl.constants/clamp-to-edge","thi.ng.geom.gl.buffers/load-texture","img","js/Image","G__17762","thi.ng.geom.gl.core/bind","thi.ng.geom.gl.core/configure","temp__5804__auto__","cb","ecb","cors","k17770","G__17777","p__17781","vec__17782","G__17769","this17771","other17772","p__17798","map__17799","G__17804","pred__17805","expr__17806","thi.ng.geom.gl.buffers/RenderBuffer","G__17773","G__17808","thi.ng.geom.gl.buffers/->RenderBuffer","thi.ng.geom.gl.buffers/map->RenderBuffer","thi.ng.geom.gl.webgl.constants/renderbuffer","thi.ng.xerror.core.unsupported_BANG_","G__17813","thi.ng.geom.gl.buffers/make-render-buffer","thi.ng.geom.gl.buffers.make_render_buffer","buf","G__17820","thi.ng.geom.gl.buffers/make-depth-buffer","size","thi.ng.geom.gl.buffers.make_depth_buffer","thi.ng.geom.gl.webgl.constants/depth-component16","k17823","G__17827","p__17830","vec__17831","G__17822","p__17838","map__17839","p__17840","map__17841","this17824","other17825","G__17847","pred__17848","expr__17849","thi.ng.geom.gl.buffers/FBO","G__17826","G__17854","thi.ng.geom.gl.buffers/->FBO","thi.ng.geom.gl.buffers/map->FBO","thi.ng.geom.gl.webgl.constants/framebuffer","thi.ng.geom.gl.webgl.constants/color-attachment0","thi.ng.geom.gl.buffers/check-fbo","thi.ng.geom.gl.webgl.constants/depth-attachment","pred__17858","expr__17859","cljs.core/==","thi.ng.geom.gl.webgl.constants/framebuffer-unsupported","thi.ng.xerror.core/throw!","thi.ng.geom.gl.webgl.constants/framebuffer-incomplete-attachment","thi.ng.geom.gl.webgl.constants/framebuffer-incomplete-dimensions","thi.ng.geom.gl.webgl.constants/framebuffer-incomplete-missing-attachment","thi.ng.geom.gl.buffers/make-fbo","p__17865","map__17868","thi.ng.geom.gl.buffers/make-fbo-with-attachments","depth?","fbo"],"sourcesContent":["(ns thi.ng.geom.gl.buffers\n  #?(:clj\n     (:import\n      [com.jogamp.opengl GL3]\n      [com.jogamp.opengl.util.texture TextureData TextureIO]\n      [java.nio Buffer DoubleBuffer FloatBuffer ShortBuffer IntBuffer]))\n  (:require\n   [thi.ng.geom.gl.core :as gl]\n   [thi.ng.xerror.core :as err]\n   #?@(:clj\n       [[thi.ng.geom.gl.jogl.buffers :as native]\n        [thi.ng.geom.gl.jogl.constants :as glc]]\n       :cljs\n       [[thi.ng.geom.gl.webgl.constants :as glc]])))\n\n(declare check-fbo)\n\n;; Textures\n;;\n;; | *Key*          | *Default*           | *Description*             |\n;; |----------------+---------------------+---------------------------|\n;; | `:image`       | `nil`               | HTML image or canvas      |\n;; | `:pixels`      | `nil`               | Image data array          |\n;; | `:format`      | `glc/rgba`          | Texture color format      |\n;; | `:type`        | `glc/unsigned-byte` | Encoding                  |\n;; | `:filter`      | `nil`               | Interpolation `[min mag]` |\n;; | `:wrap`        | `nil`               | Texture wrap mode `[s t]` |\n;; | `:flip`        | `nil`               | Vertical flip?            |\n;; | `:premultiply` | `nil`               | Premultiplied alpha?      |\n;; | `:width`       | `nil`               | Texture width             |\n;; | `:height`      | `nil`               | Texture height            |\n\n(defrecord Texture2D\n    #?(:clj  [^GL3 gl ^IntBuffer id target]\n       :cljs [^WebGLRenderingContext gl id target])\n\n  gl/IBind\n  (bind [_]\n    (gl/bind _ 0))\n  (bind [_ unit]\n    #?@(:clj\n        [(.glActiveTexture gl (+ glc/texture0 unit))\n         (.glBindTexture gl target (.get id 0))]\n        :cljs\n        [(.activeTexture gl (+ glc/texture0 unit))\n         (.bindTexture gl target id)])\n    _)\n  (unbind [_]\n    (gl/unbind _ 0))\n  (unbind [_ unit]\n    #?@(:clj\n        [(.glActiveTexture gl (+ glc/texture0 unit))\n         (.glBindTexture gl target 0)]\n        :cljs\n        [(.activeTexture gl (+ glc/texture0 unit))\n         (.bindTexture gl target nil)])\n    _)\n\n  gl/IRelease\n  (release [_]\n    #?(:clj (.glDeleteTextures gl 1 id) :cljs (.deleteTexture gl id))\n    _)\n\n  gl/IConfigure\n  (configure\n    [_ {:keys [width height image pixels format type filter wrap flip premultiply]\n        :or   {type glc/unsigned-byte format glc/rgb} :as config}]\n    (when filter\n      (let [[min mag] (if (sequential? filter) filter [filter filter])]\n        #?@(:clj\n            [(.glTexParameteri gl target glc/texture-min-filter min)\n             (.glTexParameteri gl target glc/texture-mag-filter mag)]\n            :cljs\n            [(.texParameteri gl target glc/texture-min-filter min)\n             (.texParameteri gl target glc/texture-mag-filter mag)])))\n    (when wrap\n      (let [[ws wt] (if (sequential? wrap) wrap [wrap wrap])]\n        #?@(:clj\n            [(.glTexParameteri gl target glc/texture-wrap-s ws)\n             (.glTexParameteri gl target glc/texture-wrap-t wt)]\n            :cljs\n            [(.texParameteri gl target glc/texture-wrap-s ws)\n             (.texParameteri gl target glc/texture-wrap-t wt)])))\n    #?@(:cljs\n        [(when (not (nil? flip))\n           (.pixelStorei gl glc/unpack-flip-y-webgl flip))\n         (when (not (nil? premultiply))\n           (.pixelStorei gl glc/unpack-premultiply-alpha-webgl premultiply))])\n    #?(:clj\n       (cond\n         image\n         (let [^TextureData d image]\n           (.glTexImage2D\n            gl (int target) 0\n            (.getInternalFormat d)\n            (.getWidth d)\n            (.getHeight d)\n            0\n            (.getPixelFormat d)\n            (.getPixelType d)\n            (.getBuffer d)))\n         (and width height)\n         (.glTexImage2D\n          gl (int target) 0\n          (int format)\n          (int width)\n          (int height)\n          0\n          (int format)\n          (int type)\n          ^Buffer pixels))\n       :cljs\n       (cond\n         image              (.texImage2D gl target 0 format format type image)\n         (and width height) (.texImage2D gl target 0 format width height 0 format type pixels)))\n    _))\n\n#?(:clj\n   (defn make-texture\n     [^GL3 gl opts]\n     (let [id   (native/int-buffer 1)\n           _    (.glGenTextures gl 1 id)\n           tex  (Texture2D. gl id (get opts :target glc/texture-2d))\n           opts (merge {:format glc/rgba :type glc/unsigned-byte} opts)]\n       (gl/bind tex)\n       (gl/configure tex opts)))\n\n   :cljs\n   (defn make-texture\n     [^WebGLRenderingContext gl opts]\n     (let [tex  (Texture2D. gl (.createTexture gl) (opts :target glc/texture-2d))\n           opts (merge {:format glc/rgba :type glc/unsigned-byte} opts)]\n       (gl/bind tex)\n       (gl/configure tex opts))))\n\n(comment\n  ;; Float textures\n  (make-texture gl {:width 512 :height 512 :type glc/float})\n  )\n\n#?(:cljs\n   (defn make-canvas-texture\n     ([^WebGLRenderingContext gl canvas]\n      (make-canvas-texture gl canvas {}))\n     ([^WebGLRenderingContext gl canvas opts]\n      (->> opts\n           (merge {:image       canvas\n                   :filter      [glc/linear glc/linear]\n                   :wrap        [glc/clamp-to-edge glc/clamp-to-edge]\n                   :flip        false\n                   :premultiply true})\n           (make-texture gl)))))\n\n#?(:clj\n   (defn load-texture\n     [^GL3 gl opts]\n     (let [tex (->> opts\n                    (merge {:format glc/rgba\n                            :filter [glc/linear glc/linear]\n                            :wrap   glc/clamp-to-edge})\n                    (make-texture gl))\n           img (TextureIO/newTextureData\n                (.getGLProfile gl)\n                ^java.io.File (get opts :src)\n                false\n                (name (get opts :src-format \"png\")))]\n       (doto tex\n         (gl/bind)\n         (gl/configure (merge {:image img} opts)))\n       tex))\n\n   :cljs\n   (defn load-texture\n     [^WebGLRenderingcontext gl opts]\n     (let [tex (->> opts\n                    (merge {:format glc/rgba\n                            :filter [glc/linear glc/linear]\n                            :wrap   glc/clamp-to-edge})\n                    (make-texture gl))\n           img (js/Image.)]\n       (set! (.-onload img)\n             (fn []\n               (doto tex\n                 (gl/bind)\n                 (gl/configure (merge {:flip false :image img} opts)))\n               (when-let [cb (get opts :callback)] (cb tex img))))\n       (when-let [ecb (:error-callback opts)]\n         (set! (.-onerror img) ecb))\n       (when-let [cors (:cors opts)]\n         (set! (.-crossOrigin img) cors))\n       (set! (.-src img) (get opts :src))\n       tex)))\n\n;; RenderBuffer\n\n(defrecord RenderBuffer\n    #?(:clj  [^GL3 gl ^IntBuffer id format width height]\n       :cljs [^WebGLRenderingContext gl id format width height])\n\n  gl/IBind\n  (bind [_]\n    #?(:clj  (.glBindRenderbuffer gl glc/renderbuffer (.get id 0))\n       :cljs (.bindRenderbuffer gl glc/renderbuffer id))\n    _)\n  (bind [_ _] (err/unsupported!))\n  (unbind [_]\n    #?(:clj  (.glBindRenderbuffer gl glc/renderbuffer 0)\n       :cljs (.bindRenderbuffer gl glc/renderbuffer nil))\n    _)\n\n  gl/IRelease\n  (release [_]\n    #?(:clj  (.glDeleteRenderbuffers gl 1 id)\n       :cljs (.deleteRenderbuffer gl id))\n    _)\n\n  gl/IConfigure\n  (configure [_ {:keys [format width height]}]\n    (gl/bind _)\n    #?(:clj  (.glRenderbufferStorage gl glc/renderbuffer (int format) (int width) (int height))\n       :cljs (.renderbufferStorage gl glc/renderbuffer format width height))\n    (gl/unbind _)\n    (RenderBuffer. gl id format width height)))\n\n#?(:clj\n   (defn make-render-buffer\n     ([^GL3 gl]\n      (make-render-buffer gl nil))\n     ([^GL3 gl opts]\n      (let [id  (native/int-buffer 1)\n            _   (.glGenRenderbuffers gl 1 id)\n            buf (RenderBuffer. gl id nil nil nil)]\n        (if opts (gl/configure buf opts) buf))))\n   :cljs\n   (defn make-render-buffer\n     ([^WebGLRenderingContext gl]\n      (make-render-buffer gl nil))\n     ([^WebGLRenderingContext gl opts]\n      (let [buf (RenderBuffer. gl (.createRenderbuffer gl) nil nil nil)]\n        (if opts (gl/configure buf opts) buf)))))\n\n#?(:clj\n   (defn make-depth-buffer\n     ([^GL3 gl size]\n      (make-depth-buffer gl size size))\n     ([^GL3 gl width height]\n      (make-depth-buffer gl glc/depth-component16 width height))\n     ([^GL3 gl format width height]\n      (make-render-buffer gl {:format format :width width :height height})))\n\n   :cljs\n   (defn make-depth-buffer\n     ([^WebGLRenderingContext gl size]\n      (make-depth-buffer gl size size))\n     ([^WebGLRenderingContext gl width height]\n      (make-render-buffer gl {:format glc/depth-component16 :width width :height height}))))\n\n;; Frame buffer\n\n(defrecord FBO\n    #?(:clj [^GL3 gl ^IntBuffer id]\n       :cljs [^WebGLRenderingContext gl id])\n\n  gl/IBind\n  (bind [_]\n    #?(:clj  (.glBindFramebuffer gl glc/framebuffer (.get id 0))\n       :cljs (.bindFramebuffer gl glc/framebuffer id))\n    _)\n  (bind [_ _]\n    (err/unsupported!))\n  (unbind [_]\n    #?(:clj  (.glBindFramebuffer gl glc/framebuffer 0)\n       :cljs (.bindFramebuffer gl glc/framebuffer nil))\n    _)\n\n  gl/IRelease\n  (release [_]\n    #?(:clj  (.glDeleteFramebuffers gl 1 id)\n       :cljs (.deleteFramebuffer gl id))\n    _)\n\n  gl/IFramebuffer\n  (set-fbo-color-texture\n    [_ {:keys [id]}]\n    #?(:clj  (.glFramebufferTexture2D gl glc/framebuffer glc/color-attachment0 glc/texture-2d (.get ^IntBuffer id 0) 0)\n       :cljs (.framebufferTexture2D gl glc/framebuffer glc/color-attachment0 glc/texture-2d id 0))\n    (check-fbo gl)\n    _)\n  (set-fbo-depth-buffer\n    [_ {:keys [id]}]\n    #?(:clj  (.glFramebufferRenderbuffer gl glc/framebuffer glc/depth-attachment glc/renderbuffer (.get ^IntBuffer id 0))\n       :cljs (.framebufferRenderbuffer gl glc/framebuffer glc/depth-attachment glc/renderbuffer id))\n    (check-fbo gl)\n    _))\n\n(defn- check-fbo\n  #?(:clj [^GL3 gl] :cljs [^WebGLRenderingContext gl])\n  (condp == #?(:clj  (.glCheckFramebufferStatus gl glc/framebuffer)\n               :cljs (.checkFramebufferStatus gl glc/framebuffer))\n    glc/framebuffer-unsupported\n    (err/throw! \"FBO unsupported\")\n    glc/framebuffer-incomplete-attachment\n    (err/throw! \"FBO incomplete attachment\")\n    glc/framebuffer-incomplete-dimensions\n    (err/throw! \"FBO incomplete dimensions\")\n    glc/framebuffer-incomplete-missing-attachment\n    (err/throw! \"FBO incomplete missing attachment\")\n    gl))\n\n#?(:clj\n   (defn make-fbo\n     [^GL3 gl]\n     (let [id (native/int-buffer 1)]\n       (.glGenFramebuffers gl 1 id)\n       (FBO. gl id)))\n   :cljs\n   (defn make-fbo\n     [^WebGLRenderingContext gl]\n     (FBO. gl (.createFramebuffer gl))))\n\n(defn make-fbo-with-attachments\n  [gl {:keys [tex width height depth?]}]\n  (let [fbo (make-fbo gl)]\n    (gl/bind fbo)\n    (gl/set-fbo-color-texture fbo tex)\n    (when depth?\n      (gl/set-fbo-depth-buffer fbo (make-depth-buffer gl width height)))\n    (gl/unbind fbo)))\n"]}